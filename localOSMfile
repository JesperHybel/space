# https://rstudio-pubs-static.s3.amazonaws.com/12696_9fd49fb7055c40ff9b3a3ea740e13ab3.html
library(osmar)
optionsource <- osmsource_api()
# For some reason the url is wrong in osmsource_api() so always correct it ...
optionsource$url <- "https://api.openstreetmap.org/api/0.6/"
out <- get_osm(way(1794683),source=optionsource,full=TRUE)
out$nodes$attrs[,c("lon","lat")]

# Instead of working online we can work using a local file
# debug(osmar:::get_osm_data.osmosis)
# undebug(osmar:::get_osm_data.osmosis) 
filepath<-"C://Users//jeshyb//Desktop//R_spatial//osm_files//klosterstraede_bb.osm"
optionsource <- osmsource_osmosis(file=filepath)
out2 <- get_osm(way(1794683),source=optionsource,full=TRUE)
